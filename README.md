# commitlint-cli

## å‰è¨€

æœ€è¿‘åœ¨å…¬å¸å†…éƒ¨éœ€è¦å¼•å…¥commitè§„èŒƒä»¥åŠç›¸å…³é…ç½®ï¼Œä½†æ˜¯é¡¹ç›®å·¥ç¨‹è¿‡å¤šï¼Œä¸€ä¸ªä¸ªå•ç‹¬å¼•ç”¨å¤ªè¿‡äºéº»çƒ¦ï¼Œåç»­ä¿®æ”¹é…ç½®ã€å‡çº§æƒ³æƒ³å°±å¤´å¤§ï¼Œäºæ˜¯èŠ±äº†å‡ ä¸ªå°æ—¶æ‰¾äº†ä»¥ä¸‹èµ„æ–™ï¼Œå†ç»“åˆè‡ªèº«çš„æ€è€ƒï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„cliå·¥å…·æ¥å®Œæˆè‡ªåŠ¨å¼•å…¥commité…ç½®ï¼Œå¹¶æŠŠç›¸å…³è§„èŒƒä¹Ÿå†™å…¥å·¥å…·ä¸­ï¼Œä»¥ååªéœ€è¦å‡çº§è§„èŒƒï¼Œé‡æ–°è¿è¡Œå‘½ä»¤å³å¯æ›´æ–°é…ç½®ğŸ˜„ã€‚

## commitlint-cliä»‹ç»

ç”¨äºåœ¨é¡¹ç›®ä¸­å¿«é€Ÿå¼•å…¥ commit message è§„èŒƒå’Œ commitlint ç›¸å…³é…ç½®è§„èŒƒ

å®ç°äº†è‡ªåŠ¨å¼•å…¥ `git-cz` `commitizen` `commitlint` `conventional-changelog-cli` `husky` ä¾èµ–ä»¥åŠå°è£…å¥½çš„commitè§„èŒƒå’Œcommitlintç›¸å…³é…ç½®ï¼Œå¼€ç®±å³ç”¨ï¼Œåªéœ€è¦å®‰è£…`commitlint-cli`åï¼Œè¿è¡Œ`commitlint-cli`å‘½ä»¤åå°±èƒ½ç”Ÿæˆç›¸å…³é…å¥—è®¾ç½®ï¼Œç®€å•ç²—æš´ã€‚

é™„ä¸ŠGithubåœ°å€ï¼š[commitlint-cli](https://github.com/ht1131589588/commitlint-cli)

commitè§„èŒƒå’Œç›¸å…³é…ç½®å¯ä»¥å»å¦å¤–ä¸€ç¯‡æ–‡ç« çœ‹ä¸€ä¸‹: [commitè§„èŒƒåŠè‡ªåŠ¨ç”Ÿæˆchangelog](https://juejin.im/post/6863342912320339982)

å†è¯´æ˜ä¸€ä¸‹ï¼Œè®©æˆ‘è‡ªå·±ä¸€è¡Œä¸€è¡Œå»å†™è§„èŒƒçš„ä»£ç ï¼Œå¤ªèŠ±æ—¶é—´äº†ï¼Œç›´æ¥å€Ÿç”¨äº†åˆ«äººå†™å¥½çš„ä»£ç ï¼Œç¨å¾®ç®€å•ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œé™„ä¸Šè¿æ¥ï¼š[å¼€ç®±å³ç”¨çš„ä»£ç æäº¤è§„èŒƒ](https://juejin.im/post/6844904004749623309)

## åŠŸèƒ½åˆ—è¡¨

1. è‡ªåŠ¨æ£€æµ‹ commit æ˜¯å¦è§„èŒƒï¼Œä¸è§„èŒƒä¸å…è®¸æäº¤
2. è‡ªåŠ¨æç¤º commit å¡«å†™æ ¼å¼ã€‚ä¸æ€•å¿˜è®°è§„èŒƒæ€ä¹ˆå†™
3. é›†æˆ git add . && git commit ä¸éœ€è¦åœ¨æ‰§è¡Œä¸¤ä¸ªå‘½ä»¤
4. è‡ªåŠ¨ç”Ÿæˆ changelog
5. è‡ªåŠ¨ç”Ÿæˆä»¥ä¸Šé…ç½®

## ä½¿ç”¨

å®‰è£… `commitlint-cli`

```bash
npm i commitlint-cli -D
```

æ‰§è¡Œ`npx commitlint-cli`

```bash
npx commitlint-cli
```

ä¼šè‡ªåŠ¨åœ¨ package.json ä¸­æ·»åŠ ç›¸å…³é…ç½®å’Œå‘½ä»¤

```json
{
  "scripts": {
    "log": "conventional-changelog --config ./node_modules/commitlint-cli/lib/log -i CHANGELOG.md -s -r 0",
    "commit": "npm log && git add . && git-cz"
  },
  "husky": {
    "hooks": {
      "commit-msg": "commitlint -E HUSKY_GIT_PARAMS"
    }
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/commitlint-cli/lib/cz"
    }
  }
}
```

ä¼šè‡ªåŠ¨å¢åŠ  `commitlint.config.js` æ–‡ä»¶

```js
module.exports = {
  extends: ['./node_modules/commitlint-cli/lib/lint']
};
```

## å‘½ä»¤ä»‹ç»

```bash
npm run commit  # npm run log && git add . && git-cz
npm run log # ç”Ÿæˆ CHANGELOG
```

## commit type è§„åˆ™ç®€å•è¯´æ˜

* **feat**: ä¸€ä¸ªæ–°ç‰¹æ€§
* **fix**: ä¿®äº†ä¸€ä¸ª Bug
* **docs**: æ›´æ–°äº†æ–‡æ¡£ï¼ˆæ¯”å¦‚æ”¹äº† Readmeï¼‰
* **style**: ä»£ç çš„æ ·å¼ç¾åŒ–ï¼Œä¸æ¶‰åŠåˆ°åŠŸèƒ½ä¿®æ”¹ï¼ˆæ¯”å¦‚æ”¹äº†ç¼©è¿›ï¼‰
* **refactor**: ä¸€äº›ä»£ç ç»“æ„ä¸Šä¼˜åŒ–ï¼Œæ—¢ä¸æ˜¯æ–°ç‰¹æ€§ä¹Ÿä¸æ˜¯ä¿® Bugï¼ˆæ¯”å¦‚å‡½æ•°æ”¹ä¸ªåå­—ï¼‰
* **perf**: ä¼˜åŒ–äº†æ€§èƒ½çš„ä»£ç æ”¹åŠ¨
* **test**: æ–°å¢æˆ–è€…ä¿®æ”¹å·²æœ‰çš„æµ‹è¯•ä»£ç 
* **chore**: è·Ÿä»“åº“ä¸»è¦ä¸šåŠ¡æ— å…³çš„æ„å»º/å·¥ç¨‹ä¾èµ–/å·¥å…·ç­‰åŠŸèƒ½æ”¹åŠ¨ï¼ˆæ¯”å¦‚æ–°å¢ä¸€ä¸ªæ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼‰

## å‚è€ƒèµ„æº

- [å¼€ç®±å³ç”¨çš„ä»£ç æäº¤è§„èŒƒ](https://juejin.im/post/6844904004749623309)

æœ‰é—®é¢˜æ¬¢è¿æŒ‡å‡ºï¼Œæœ‰ç”¨æ¬¢è¿ç‚¹ä¸ªèµğŸ˜Š